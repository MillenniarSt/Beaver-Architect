<!--             _____
             ___/     \___        |  |
          ##/  _.- _.-    \##  -  |  |                       -
          ##\#=_  '    _=#/##  |  |  |  /---\  |      |      |   ===\  |  __
          ##   \\#####//   ##  |  |  |  |___/  |===\  |===\  |   ___|  |==/
          ##       |       ##  |  |  |  |      |   |  |   |  |  /   |  |
          ##       |       ##  |  \= \= \====  |   |  |   |  |  \___/  |
          ##\___   |   ___/
          ##    \__|__/
-->


<div class="flex h-full">

  <div class="w-64 flex flex-col py-5 pr-1 pl-4">
    <p-card class="glow after:rounded-2xl">
      <div class="flex">
        <img class="w-[70px] h-[70px]" src="assets/logo.png">
        <div class="py-2">
          <h3 class="text-lg font-semibold">Beaver Architect</h3>
          <em class="text-sm">By Millenniar</em>
        </div>
      </div>
    </p-card>
    <div class="flex flex-col gap-3 pt-6">
      <button class="decorated-label" (click)="newProject()">
        <div class="decorated-icon glow px-[6px]">
          <i class="pi pi-plus"></i>
        </div>
        <span class="text-lg font-semibold">New Project</span>
      </button>
      <button class="decorated-label" (click)="joinProject()">
        <div class="decorated-icon glow">
          <img src="assets/icon/join.svg">
        </div>
        <span class="text-lg font-semibold">Join Project</span>
      </button>
    </div>

    <div class="grow px-5 flex flex-col gap-3 justify-center">
      <button [ngClass]="{'selected': isSelectedType('world'), 'unselected': !isSelectedType('world')}"
        (click)="selectType('world')">Worlds</button>
      <button [ngClass]="{'selected': isSelectedType('structure'), 'unselected': !isSelectedType('structure')}"
        (click)="selectType('structure')">Structures</button>
      <button [ngClass]="{'selected': isSelectedType('terrain'), 'unselected': !isSelectedType('terrain')}"
        (click)="selectType('terrain')">Terrains</button>
      <button [ngClass]="{'selected': isSelectedType('biome'), 'unselected': !isSelectedType('biome')}"
        (click)="selectType('biome')">Biomes</button>
      <hr class="my-4 mx-7">
      <button [ngClass]="{'selected': isSelectedType('data_pack'), 'unselected': !isSelectedType('data_pack')}"
        (click)="selectType('data_pack')">Data Packs</button>
    </div>

    <div class="ml-3 my-2 flex gap-3">
      <img class="w-1/2" src="assets/credit/millenniar_title.svg">
      <div class="grow"></div>
      <button (click)="openSettings()">
        <i class="pi pi-cog text-lg text-fore-3"></i>
      </button>
    </div>
  </div>

  <p-card class="grow m-4">
    <projects *ngIf="interactive === 'projects' && !loading" [type]="type" class="h-full"
      (editProject)="doEditProject($event)"></projects>
    <edit-project *ngIf="interactive === 'new_project' && !loading" [type]="type ?? 'world'" class="h-full"
      (changeInteractive)="changeInteractive($event)"></edit-project>
    <edit-project *ngIf="interactive === 'edit_project' && !loading" [isNew]="false" class="h-full"
      (changeInteractive)="changeInteractive($event)" [type]="editProject!.data.type" [project]="editProject!"></edit-project>
  </p-card>
</div>